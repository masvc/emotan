# AquaSync ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¼•ãç¶™ãè³‡æ–™

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**AquaSync**ã¯ã€IoT ã‚»ãƒ³ã‚µãƒ¼ã‚’ä½¿ç”¨ã—ãŸæ°´åˆ†ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚¯ãƒ©ã‚¦ãƒ‰ã«é€ä¿¡ã—ã€å¦–ç²¾ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€Œãˆã‚‚ãŸã‚“ã€ãŒå¯æ„›ãçŠ¶æ³ã‚’æ•™ãˆã¦ãã‚Œã‚‹ Web ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’æä¾›ã—ã¾ã™ã€‚

### ğŸ¯ ä¸»ãªæ©Ÿèƒ½

- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ°´åˆ†ãƒ¬ãƒ™ãƒ«ç›£è¦–
- å¦–ç²¾ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã«ã‚ˆã‚‹çŠ¶æ³è¡¨ç¤º
- ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆRenderï¼‰
- RESTful API
- ãƒ­ãƒ¼ã‚«ãƒ«ã‚»ãƒ³ã‚µãƒ¼åˆ¶å¾¡

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ãƒ­ãƒ¼ã‚«ãƒ«å´    â”‚â”€â”€â”€â”€â”‚   ã‚¯ãƒ©ã‚¦ãƒ‰å´    â”‚â”€â”€â”€â”€â”‚   ãƒ¦ãƒ¼ã‚¶ãƒ¼      â”‚
â”‚ (ã‚»ãƒ³ã‚µãƒ¼+åˆ¶å¾¡) â”‚    â”‚ (Webãƒ€ãƒƒã‚·ãƒ¥    â”‚    â”‚ (ãƒ–ãƒ©ã‚¦ã‚¶)      â”‚
â”‚                 â”‚    â”‚  ãƒœãƒ¼ãƒ‰)        â”‚    â”‚                 â”‚
â”‚ local_sensor.py â”‚â”€â”€â”€â”€â”‚web_dashboard.py â”‚â”€â”€â”€â”€â”‚ https://emotan. â”‚
â”‚ Arduino/ã‚»ãƒ³ã‚µãƒ¼â”‚    â”‚ (Render)        â”‚    â”‚ onrender.com    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Backend**: Python Flask + Gunicorn
- **Frontend**: HTML/CSS/JavaScript (å¦–ç²¾ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼)
- **Cloud**: Render (Web ã‚µãƒ¼ãƒ“ã‚¹)
- **IoT**: Python (ã‚·ãƒªã‚¢ãƒ«é€šä¿¡)
- **API**: RESTful JSON API

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
emotan/
â”œâ”€â”€ ğŸ“„ web_dashboard.py          # ãƒ¡ã‚¤ãƒ³ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ ğŸ“„ local_sensor.py           # ãƒ­ãƒ¼ã‚«ãƒ«ã‚»ãƒ³ã‚µãƒ¼åˆ¶å¾¡
â”œâ”€â”€ ğŸ“„ local_sensor_test.py      # ã‚»ãƒ³ã‚µãƒ¼ãƒ†ã‚¹ãƒˆç”¨
â”œâ”€â”€ ğŸ“„ requirements.txt          # Pythonä¾å­˜é–¢ä¿‚
â”œâ”€â”€ ğŸ“„ Procfile                  # Renderç”¨èµ·å‹•è¨­å®š
â”œâ”€â”€ ğŸ“„ .env                      # ç’°å¢ƒå¤‰æ•° (ãƒ­ãƒ¼ã‚«ãƒ«ç”¨)
â”œâ”€â”€ ğŸ“„ .gitignore                # Gité™¤å¤–è¨­å®š
â””â”€â”€ ğŸ–¼ï¸ img/                      # ç”»åƒãƒªã‚½ãƒ¼ã‚¹
    â”œâ”€â”€ back.jpg                 # èƒŒæ™¯ç”»åƒ
    â”œâ”€â”€ yousei1.png              # å¦–ç²¾(é€šå¸¸)
    â”œâ”€â”€ yousei2.png              # å¦–ç²¾(è­¦æˆ’)
    â””â”€â”€ yousei4.png              # å¦–ç²¾(å…ƒæ°—)
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿ç’°å¢ƒ

### ğŸŒ æœ¬ç•ªç’°å¢ƒ (Render)

- **URL**: https://emotan.onrender.com
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ç¨¼åƒä¸­ âœ…
- **ã‚µãƒ¼ãƒãƒ¼**: Gunicorn + Flask
- **è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: GitHub é€£æº

### ğŸ“Š ä¸»è¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

- `GET /` - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- `GET /api/data` - ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿å–å¾—
- `POST /api/update` - ãƒ‡ãƒ¼ã‚¿æ›´æ–° (è¦èªè¨¼)
- `GET /health` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

## âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd emotan

# ä»®æƒ³ç’°å¢ƒä½œæˆ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env  # .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†

# ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ
python web_dashboard.py
```

### 2. ã‚»ãƒ³ã‚µãƒ¼æ¥ç¶š (ãƒ­ãƒ¼ã‚«ãƒ«å´)

```bash
# ã‚»ãƒ³ã‚µãƒ¼ãƒ†ã‚¹ãƒˆ
python local_sensor_test.py

# ã‚»ãƒ³ã‚µãƒ¼ç›£è¦–é–‹å§‹
python local_sensor.py
```

## ğŸŒ Render ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤

1. Render ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
2. GitHub é€£æº
3. Web Service ä½œæˆ
4. ä»¥ä¸‹ã®è¨­å®š:

```
Build Command: pip install -r requirements.txt
Start Command: gunicorn --bind 0.0.0.0:$PORT web_dashboard:app
```

### Environment Variables

```
API_SECRET_KEY=your-secret-key
RENDER_EXTERNAL_URL=https://emotan.onrender.com
```

### æ›´æ–°ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
git add .
git commit -m "Update message"
git push origin main  # è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™
```

## ğŸ“¡ API ä»•æ§˜

### GET /api/data

ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:**

```json
{
  "moisture": 75,
  "status": "yellow",
  "last_update": "2025-09-07T04:51:03",
  "message": "75%ã§ãã“ãã“å…ƒæ°—ã ã‚ˆã€œï¼",
  "character": "yousei2.png"
}
```

### POST /api/update

ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–° (è¦ API Key)

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹:**

```json
{
  "moisture": 75,
  "status": "yellow",
  "message": "æ°´åˆ†75%ã§ãã“ãã“å…ƒæ°—ã ã‚ˆã€œï¼"
}
```

**ãƒ˜ãƒƒãƒ€ãƒ¼:**

```
X-API-Key: your-api-secret-key
Content-Type: application/json
```

## ğŸ” ç›£è¦–ã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ­ã‚°ç¢ºèª

```bash
# Renderãƒ­ã‚°
https://dashboard.render.com â†’ Logs ã‚¿ãƒ–

# ãƒ­ãƒ¼ã‚«ãƒ«ãƒ­ã‚°
tail -f console.log
```

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

**ç—‡çŠ¶**: Render deploy æ™‚ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
**è§£æ±º**: Start Command ã‚’ç¢ºèª

```bash
# âŒ é–“é•ã„
python web_dashboard.py

# âœ… æ­£è§£
gunicorn --bind 0.0.0.0:$PORT web_dashboard:app
```

#### 2. API èªè¨¼ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: 403 Forbidden
**è§£æ±º**: API Key ã‚’ç¢ºèª

```python
headers = {'X-API-Key': 'your-secret-key'}
```

#### 3. ã‚»ãƒ³ã‚µãƒ¼æ¥ç¶šã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: ã‚·ãƒªã‚¢ãƒ«é€šä¿¡å¤±æ•—
**è§£æ±º**: ãƒãƒ¼ãƒˆç¢ºèª

```python
# ãƒ‡ãƒã‚¤ã‚¹ç¢ºèª
ls /dev/tty*  # Mac/Linux
# ãƒ‡ãƒã‚¤ã‚¹ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ç¢ºèª (Windows)
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

- **å¿œç­”æ™‚é–“**: < 2 ç§’
- **ç¨¼åƒç‡**: 99%+
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: < 512MB

## ğŸ“ˆ ä»Šå¾Œã®æ”¹å–„æ¡ˆ

### ğŸ”§ æŠ€è¡“çš„æ”¹å–„

- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¿½åŠ  (PostgreSQL)
- [ ] å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥ (WebSocket)
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªå¯¾å¿œ
- [ ] Docker åŒ–

### ğŸ¨ UI/UX æ”¹å–„

- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- [ ] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰
- [ ] ã‚°ãƒ©ãƒ•è¡¨ç¤ºæ©Ÿèƒ½
- [ ] ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š
- [ ] è¤‡æ•°ã‚»ãƒ³ã‚µãƒ¼å¯¾å¿œ

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

- [ ] HTTPS å¼·åˆ¶
- [ ] Rate limiting
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- [ ] API ç‰ˆç®¡ç†

## ğŸ“ ã‚µãƒãƒ¼ãƒˆæƒ…å ±

### ğŸ”— é‡è¦ãªãƒªãƒ³ã‚¯

- **æœ¬ç•ªã‚µã‚¤ãƒˆ**: https://emotan.onrender.com
- **Render Dashboard**: https://dashboard.render.com
- **GitHub**: <repository-url>

### ğŸ“± ç·Šæ€¥é€£çµ¡å…ˆ

- **é–‹ç™ºè€…**: [é€£çµ¡å…ˆæƒ…å ±]
- **Render ã‚µãƒãƒ¼ãƒˆ**: https://render.com/docs

### ğŸ“š å‚è€ƒè³‡æ–™

- [Flask Documentation](https://flask.palletsprojects.com/)
- [Gunicorn Documentation](https://gunicorn.org/)
- [Render Documentation](https://render.com/docs)

---

## ğŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜       | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹                          |
| ---------- | ---------- | --------------------------------- |
| 2025-09-07 | v1.0       | åˆå›ãƒªãƒªãƒ¼ã‚¹ã€Render ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº† |
| 2025-09-07 | v1.1       | Gunicorn æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼å°å…¥         |

---

**Last Updated**: 2025-09-07  
**Document Version**: 1.0  
**Project Status**: Production Ready âœ…
